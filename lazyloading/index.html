<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Lazyloading example</title>
        <style media="screen">
            img {
                display: block;
                width:300px;
                height:300px;
                margin-bottom:50px;
            }
        </style>
        <script src="http://cdn.bootcss.com/jquery/1.12.3/jquery.min.js"></script>
    </head>
    <body>
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
        <img data-src="http://www.ctps.cn/PhotoNet/Profiles2011/20120912/2012912825444673.jpg" src="default.jpg" alt="" />
    <!-- <script>
        var num = document.getElementsByTagName('img').length;
        var img = document.getElementsByTagName('img');
        var n = 0;

        lazyload();

        window.onscroll = lazyload;

        function lazyload() {
            var seeHeight = document.documentElement.clientHeight;
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;

            for(var i = n; i < num; i++) {
                if(img[i].offsetTop < seeHeight + scrollTop) {
                    if (img[i].getAttribute('src') == 'default.jpg') {
                        img[i].src = img[i].getAttribute('data-src');
                        img[i].setAttribute("data-src", null);
                    }
                    n = i + 1;
                }
            }
        }
    </script> -->


<!-- 方法二: jQuery-->
    <script type="text/javascript">
        var n = 0;
        var imgNum = $('img').length;
        var img = $('img');

        lazyload();
        $(window).scroll(lazyload);

        function lazyload(event) {
            for(var i = n; i < imgNum; i ++) {
                if ( img.eq(i).offset().top < parseInt($(window).height()) + parseInt($(window).scrollTop()) ) {
                    if (img.eq(i).attr('src') == "default.jpg") {
                        var src = img.eq(i).data("src");
                        img.eq(i).attr('src',src);
                        img.eq(i).data('src',null);
                    }
                    n = i + 1;
                }
            }
        }
    </script>
</body>
</html>
